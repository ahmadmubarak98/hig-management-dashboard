(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[33],{604:function(e,t,a){},709:function(e,t,a){},749:function(e,t,a){"use strict";a.r(t);var n=a(550),l=a.n(n),r=a(551),s=a(58),c=a(2),i=a(11),o=a(12),u=a(14),d=a(13),p=a(0),m=a.n(p),v=a(143),h=a(200),b=a(501),E=a(507),f=a(502),y=a(500),D=a(528),g=a(518),N=a(529),w=a(278),S=a(601),k=a.n(S),C=(a(603),a(604),{business:"chip-success",work:"chip-warning",personal:"chip-danger",others:"chip-primary"}),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={startDate:new Date,endDate:new Date,title:"",label:null,allDay:!0,selectable:!0},e.handleDateChange=function(t){e.setState({startDate:t})},e.handleEndDateChange=function(t){e.setState({endDate:t})},e.handleLabelChange=function(t){e.setState({label:t})},e.handleAddEvent=function(t){e.props.handleSidebar(!1),e.props.addEvent({id:t,title:e.state.title,start:e.state.startDate,end:e.state.endDate,label:null===e.state.label?"others":e.state.label,allDay:e.state.allDay,selectable:e.state.selectable}),e.setState({startDate:new Date,endDate:new Date,title:"",label:null,allDay:!0,selectable:!0})},e}return Object(o.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({title:null===e.eventInfo?"":e.eventInfo.title,url:null===e.eventInfo?"":e.eventInfo.url,startDate:null===e.eventInfo?new Date:new Date(e.eventInfo.start),endDate:null===e.eventInfo?new Date:new Date(e.eventInfo.end),label:null===e.eventInfo?null:e.eventInfo.label,allDay:null===e.eventInfo||e.eventInfo.allDay,selectable:null===e.eventInfo||e.eventInfo.selectable})}},{key:"render",value:function(){var e=this,t=this.props.events.map((function(e){return e.id})).pop()+1;return m.a.createElement("div",{className:"add-event-sidebar ".concat(this.props.sidebar?"show":"hidden")},m.a.createElement("div",{className:"header d-flex justify-content-between"},m.a.createElement("h3",{className:"text-bold-600 mb-0"},null!==this.props.eventInfo&&this.props.eventInfo.title.length>0?"Update Event":"Schedule A Visit"),m.a.createElement("div",{className:"close-icon cursor-pointer",onClick:function(){return e.props.handleSidebar(!1)}},m.a.createElement(v.a,{size:20}))),m.a.createElement("div",{className:"add-event-body"},m.a.createElement("div",{className:"category-action d-flex justify-content-between my-50"},m.a.createElement("div",{className:"event-category"},null!==this.state.label?m.a.createElement("div",{className:"chip ".concat(C[this.state.label])},m.a.createElement("div",{className:"chip-body"},m.a.createElement("div",{className:"chip-text text-capitalize"},this.state.label))):null),m.a.createElement("div",{className:"category-dropdown"},m.a.createElement(b.a,null,m.a.createElement(E.a,{tag:"div",className:"cursor-pointer"},m.a.createElement(h.a,{size:18})),m.a.createElement(f.a,{tag:"ul",right:!0},m.a.createElement(y.a,{tag:"li",onClick:function(){return e.handleLabelChange("business")}},m.a.createElement("span",{className:"bullet bullet-success bullet-sm mr-50"}),m.a.createElement("span",null,"Business")),m.a.createElement(y.a,{tag:"li",onClick:function(){return e.handleLabelChange("work")}},m.a.createElement("span",{className:"bullet bullet-warning bullet-sm mr-50"}),m.a.createElement("span",null,"Work")),m.a.createElement(y.a,{tag:"li",onClick:function(){return e.handleLabelChange("personal")}},m.a.createElement("span",{className:"bullet bullet-danger bullet-sm mr-50"}),m.a.createElement("span",null,"Personal")),m.a.createElement(y.a,{tag:"li",onClick:function(){return e.handleLabelChange("others")}},m.a.createElement("span",{className:"bullet bullet-primary bullet-sm mr-50"}),m.a.createElement("span",null,"Others")))))),m.a.createElement("div",{className:"add-event-fields mt-2"},m.a.createElement(D.a,{className:"form-label-group"},m.a.createElement(g.a,{type:"text",id:"EventTitle",placeholder:"Customer Name",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}),m.a.createElement(N.a,{for:"EventTitle"},"Customer Name")),m.a.createElement(D.a,null,m.a.createElement(N.a,{for:"startDate"},"Date"),m.a.createElement(k.a,{id:"startDate",className:"form-control",value:this.state.startDate,onChange:function(t){return e.handleDateChange(t)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}}))),m.a.createElement("hr",{className:"my-2"}),m.a.createElement("div",{className:"add-event-actions text-right"},m.a.createElement(w.a.Ripple,{disabled:!(this.state.title.length>0),color:"primary",onClick:function(){e.props.handleSidebar(!1),null===e.props.eventInfo||e.props.eventInfo.title.length<=0?e.handleAddEvent(t):e.props.updateEvent({id:e.props.eventInfo.id,title:e.state.title,label:e.state.label,start:e.state.startDate,end:e.state.endDate,allDay:!0,selectable:!0})}},null!==this.props.eventInfo&&this.props.eventInfo.title.length>0?"Update Event":"Schedule A Visit"),m.a.createElement(w.a.Ripple,{className:"ml-1",color:"flat-danger",onClick:function(){if(e.props.handleSidebar(!1),!e.props.handleSelectedEvent)return null;e.props.handleSelectedEvent(null)}},"Cancel"))))}}]),a}(m.a.Component),I=a(195),x=a(36),O=a(48),A=a.n(O),z=function(e){return function(t){return t({type:"HANDLE_SIDEBAR",status:e})}},R=function(e){return function(t){return t({type:"HANDLE_SELECTED_EVENT",event:e})}},T=Object(x.b)(null,{handleSidebar:z,handleSelectedEvent:R})((function(e){return m.a.createElement(w.a.Ripple,{color:"primary",onClick:function(){e.handleSidebar(!0),e.handleSelectedEvent(null)},className:"d-sm-block d-none"}," ",m.a.createElement(I.a,{size:15})," ",m.a.createElement("span",{className:"align-middle"},"Add"))})),V=a(734),_=a(515),L=a(516),P=a(713),F=a(607),U=a.n(F),H=a(706),W=a.n(H),B=a(182),G=a(157),J=(a(707),a(708),a(709),U()(P.a)),M=Object(P.b)(W.a),Y={business:"bg-success",work:"bg-warning",personal:"bg-danger",others:"bg-primary"},X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"calendar-header mb-2 d-flex justify-content-between flex-wrap"},m.a.createElement("div",null,m.a.createElement(T,null)),m.a.createElement("div",{className:"text-center view-options mt-1 mt-sm-0 ml-lg-5 ml-0"},m.a.createElement(V.a,null,m.a.createElement("button",{className:"btn ".concat("month"===this.props.view?"btn-primary":"btn-outline-primary text-primary"),onClick:function(){e.props.onView("month")}},"Month"),m.a.createElement("button",{className:"btn ".concat("week"===this.props.view?"btn-primary":"btn-outline-primary text-primary"),onClick:function(){e.props.onView("week")}},"Week"),m.a.createElement("button",{className:"btn ".concat("day"===this.props.view?"btn-primary":"btn-outline-primary text-primary"),onClick:function(){e.props.onView("day")}},"Day"))),m.a.createElement("div",{className:"month-label d-flex flex-column text-center text-md-right mt-1 mt-md-0"},m.a.createElement("div",{className:"calendar-navigation"},m.a.createElement(w.a.Ripple,{className:"btn-icon rounded-circle",size:"sm",color:"primary",onClick:function(){return e.props.onNavigate("PREV")}},m.a.createElement(B.a,{size:15})),m.a.createElement("div",{className:"month d-inline-block mx-75 text-bold-500 font-medium-2 align-middle"},this.props.label),m.a.createElement(w.a.Ripple,{className:"btn-icon rounded-circle",size:"sm",color:"primary",onClick:function(){return e.props.onNavigate("NEXT")}},m.a.createElement(G.a,{size:15}))),m.a.createElement("div",{className:"event-tags d-none d-sm-flex justify-content-end mt-1"},m.a.createElement("div",{className:"tag"},m.a.createElement("span",{className:"bullet bullet-primary bullet-sm mr-50"}),m.a.createElement("span",null,"Visit")))))}}]),a}(m.a.Component),Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleEventColors=function(e){return{className:Y[e.label]}},n.moveEvent=function(e){var t=e.event,a=e.start,l=e.end,r=e.isAllDay,i=n.state.events,o=i.indexOf(t),u=t.allDay;!t.allDay&&r?u=!0:t.allDay&&!r&&(u=!1);var d=Object(c.a)(Object(c.a)({},t),{},{start:a,end:l,allDay:u}),p=Object(s.a)(i);p.splice(o,1,d),n.setState({events:p}),n.props.updateDrag(d)},n.resizeEvent=function(e){var t=e.event,a=e.start,l=e.end,r=n.state.events.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{start:a,end:l}):e}));n.setState({events:r}),n.props.updateResize(Object(c.a)(Object(c.a)({},t),{},{start:a,end:l}))},n.handleSelectEvent=function(e){var t=n.state.events.filter((function(t){return t.id===e.id}));n.props.handleSidebar(!0),n.props.handleSelectedEvent(t[0]),n.setState({eventInfo:t[0]})},n.state={events:[],views:{month:!0,week:!0,day:!0},eventInfo:null},n}return Object(o.a)(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.app.events.length!==t.events||e.app.sidebar!==t.sidebar||e.app.selectedEvent!==t.eventInfo?{events:e.app.events.map((function(e){return e.start=new Date(e.start),e.end=new Date(e.end),e})),sidebar:e.app.sidebar,eventInfo:e.app.selectedEvent}:null}}]),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchEvents();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.views,l=t.sidebar;return m.a.createElement("div",{className:"app-calendar position-relative"},m.a.createElement("div",{className:"app-content-overlay ".concat(l?"show":"hidden"),onClick:function(){e.props.handleSidebar(!1),e.props.handleSelectedEvent(null)}}),m.a.createElement(_.a,null,m.a.createElement(L.a,null,m.a.createElement(J,{localizer:M,events:a,onEventDrop:this.moveEvent,onEventResize:this.resizeEvent,startAccessor:"start",endAccessor:"end",resourceAccessor:"url",views:n,components:{toolbar:X},eventPropGetter:this.handleEventColors,popup:!0,onSelectEvent:function(t){e.handleSelectEvent(t)},onSelectSlot:function(t){var a=t.start,n=t.end;e.props.handleSidebar(!0),e.props.handleSelectedEvent({title:"",label:null,start:new Date(a),end:new Date(n),url:""})},selectable:!0}))),m.a.createElement(j,{sidebar:l,handleSidebar:this.props.handleSidebar,addEvent:this.props.addEvent,events:this.state.events,eventInfo:this.state.eventInfo,selectedEvent:this.props.handleSelectedEvent,updateEvent:this.props.updateEvent,resizable:!0}))}}]),a}(m.a.Component);t.default=Object(x.b)((function(e){return{app:e.calendar}}),{fetchEvents:function(){return function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/apps/calendar/events").then((function(e){t({type:"FETCH_EVENTS",events:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},handleSidebar:z,addEvent:function(e){return function(t){t({type:"ADD_EVENT",event:e})}},handleSelectedEvent:R,updateEvent:function(e){return function(t){t({type:"UPDATE_EVENT",event:e})}},updateDrag:function(e){return function(t){t({type:"UPDATE_DRAG",event:e})}},updateResize:function(e){return function(t){t({type:"EVENT_RESIZE",event:e})}}})(Z)}}]);
//# sourceMappingURL=33.4a97e88f.chunk.js.map